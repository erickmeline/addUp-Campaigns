(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(3),c=a.n(r),u=(a(16),a(4)),i=a(5),s=a(8),o=a(6),m=a(9),p=a(1),d=a.n(p),h=a(7),E=function(){var e=Object(h.a)(d.a.mark(function e(t){var a,n,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={Accept:"application/json","Content-Type":"application/json"},e.next=3,fetch(t,a);case 3:if((n=e.sent).ok){e.next=6;break}throw n;case 6:return e.prev=6,e.next=9,n.json();case 9:return l=e.sent,e.abrupt("return",l);case 13:throw e.prev=13,e.t0=e.catch(6),e.t0.text()||"Uncaught Fetch Error Occured";case 16:case"end":return e.stop()}},e,null,[[6,13]])}));return function(t){return e.apply(this,arguments)}}(),g="https://addup.sierraclub.org/api/v1/campaigns",f=function(e){var t=e.campaign,a=t.club_id_name,n=t.title,r=t.c_code,c=t.gau_id,u=t.publish_status,i=t.salesforce_id,s=t.slug,o=t.actions,m=t.created_by,p=t.start_date,d=t.end_date;return o.forEach(function(e){e.hasOwnProperty("gau_id")&&(c=e.gau_id,r=e.c_code)}),l.a.createElement("tr",null,l.a.createElement("td",null,m||"n/a"),l.a.createElement("td",null,n||"n/a"),l.a.createElement("td",null,c||"n/a"),l.a.createElement("td",null,u||"n/a"),l.a.createElement("td",null,l.a.createElement("a",{href:"".concat(g,"/").concat(s)},"".concat(g,"/").concat(s))),l.a.createElement("td",null,a||"n/a"),l.a.createElement("td",null,p||"n/a"),l.a.createElement("td",null,d||"n/a"),l.a.createElement("td",null,r||"n/a"),l.a.createElement("td",null,i||"n/a"))},v="https://addup.sierraclub.org/api/v1/campaigns",b=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={campaigns:[],slugs:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;E("https://addup.sierraclub.org/api/v1/campaigns").then(function(e){return e.data}).then(function(t){var a=[];t.forEach(function(e){a.push(e.slug)}),e.setState({slugs:a})})}},{key:"getCampaigns",value:function(){var e=this,t=this.state.slugs.map(function(e){return E(v+"/"+e).then(function(e){return e.data})});Promise.all(t).then(function(t){var a=t.map(function(e){if(e)return e});e.setState({campaigns:a})})}},{key:"render",value:function(){var e=this.state,t=e.slugs,a=e.campaigns;return t.length>0&&a.length<1&&this.getCampaigns(),l.a.createElement("div",{className:"App"},l.a.createElement("header",null,"Current AddUp Campaigns"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Organizer"),l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"GAU"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Link"),l.a.createElement("th",null,"Club Entity"),l.a.createElement("th",null,"Start Date"),l.a.createElement("th",null,"End Date"),l.a.createElement("th",null,"C3 / C4"),l.a.createElement("th",null,"SF ID"))),l.a.createElement("tbody",null,a.length<1?l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"10"},l.a.createElement("div",{className:"loading"}))):null,this.state.campaigns.map(function(e){return l.a.createElement(f,{campaign:e,key:e.id})}))))}}]),t}(l.a.Component);c.a.render(l.a.createElement(b,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.18ec54f3.chunk.js.map